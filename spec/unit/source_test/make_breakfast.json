{
  "name" : "make_breakfast",
  "namespace" : "breakfast",
  "description" : "creates breakfast",
  "start_block" : "check_supplies",
  "roles" : ["kitchen"],

  "automated_blocks" : [
    {
      "name" : "check_supplies",
      "description" : "checks if there are enaugh eggs, bacon and bread",
      "handler" : "breakfast:check_supplies",
      "next_blocks" : {
        "not_enaugh_supplies" : "get_supplies",
        "enaugh_supplies" : "make_breakfast",
      }
    },
    {
      "name" : "make_breakfast",
      "description" : "sets stove, fry eggs, roast bacon",
      "handler" : "breakfast:make_breakfast",
      "next_blocks" : {
        "success" : "serve_breakfast",
      }
    },
  ],

  "task_blocks" : [
    {
      "name" : "get_supplies",
      "description" : "get enaugh eggs, bacon and bread",
      "next_block" : "make_breakfast",
      "tasks" : [
        {
          "name" : "get_bacon",
          "description" : "optional description",
          "roles" : ["storage", "kitchen"]
        },
        {
          "name" : "get_eggs",
          "description" : "",
          "roles" : ["storage", "kitchen"]
        },
        {
          "name" : "get_bread",
          "description" : "",
          "roles" : ["storage"]
        },
      ]
    },
    {
      "name" : "serve_breakfast",
      "description" : "prepare table, slice bread",
      "next_block" : "process:finish",
      "tasks" : [
        {
          "name" : "prepare_table",
          "description" : "",
          "roles" : ["servers"]
        },
        {
          "name" : "slice_bread",
          "description" : "",
          "roles" : ["kitchen"]
        },
      ]
    },
  ]
}
